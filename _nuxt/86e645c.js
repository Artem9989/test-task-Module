(window.webpackJsonp=window.webpackJsonp||[]).push([[4,2,3],{229:function(t,e,n){var content=n(234);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(116).default)("254bd2fa",content,!0,{sourceMap:!1})},230:function(t,e,n){var content=n(236);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(116).default)("f1c755a4",content,!0,{sourceMap:!1})},231:function(t,e,n){"use strict";n.r(e);n(233);var o=n(42),component=Object(o.a)({},(function(){var t=this,e=t.$createElement;return(t._self._c||e)("footer",{staticClass:"footer"},[t._v(" \n     © 2018-"+t._s((new Date).getFullYear())+"\n")])}),[],!1,null,"0e9bc8fa",null);e.default=component.exports;installComponents(component,{Footer:n(231).default})},232:function(t,e,n){t.exports=n.p+"./img/spinner.d3fbaf2.gif"},233:function(t,e,n){"use strict";n(229)},234:function(t,e,n){var o=n(115)(!1);o.push([t.i,".footer[data-v-0e9bc8fa]{position:relative;width:calc(100% - 40px);left:50%;top:calc(50% - 12px);transform:translate(-50%,-50%);text-align:center;border-top:1px solid #ccc;padding-top:18px;font-size:14px;color:#ccc}@media (max-width:767px){.footer[data-v-0e9bc8fa]{height:35px;top:calc(50% - 40px)}}",""]),t.exports=o},235:function(t,e,n){"use strict";n(230)},236:function(t,e,n){var o=n(115)(!1);o.push([t.i,"input[data-v-2728fcde]{outline:none}.preload[data-v-2728fcde]{text-align:center}.preload__img[data-v-2728fcde]{height:80px}.error[data-v-2728fcde]{color:red;font-size:1rem;margin:0}.popup[data-v-2728fcde]{position:fixed;z-index:1;left:50%;top:50%;display:flex;align-items:center;flex-direction:column;justify-content:center;overflow:auto;transform:translate(-50%,-50%);width:100%;height:100vh;background-color:rgba(0,0,0,.7)}.content[data-v-2728fcde]{width:619px;height:425px;background:#fff}.content__close[data-v-2728fcde]{float:right;font-size:42px;font-weight:lighter;color:#000;height:38px;width:38px;cursor:pointer;line-height:1em}.submit__info[data-v-2728fcde]{margin:10px 0;height:30px;width:100%;max-width:331px;padding:7px 11px 8px;border:1px solid #ccc;box-sizing:border-box;border-radius:3px}.submit__info--btn[data-v-2728fcde]{background:#4997d0;cursor:pointer;color:#fff}.content__wrap[data-v-2728fcde]{display:flex;flex-direction:column;flex-wrap:wrap;margin:30px;width:54%;height:395px}.content__img[data-v-2728fcde]{width:100%;height:205px;-o-object-fit:cover;object-fit:cover;border-radius:3px;max-width:331px}.comments__text[data-v-2728fcde]{margin:5px 0 20px;word-wrap:break-word}.comments__date[data-v-2728fcde]{color:#999;margin:0;word-wrap:break-word}.container-comments[data-v-2728fcde]{width:60%;margin-top:5px;line-height:15px;font-size:13px;overflow:auto;padding:0 3px 0 0;margin-left:14px;height:365px}.container-comments[data-v-2728fcde]::-webkit-scrollbar{width:5px;background-color:#f9f9fd}.container-comments[data-v-2728fcde]::-webkit-scrollbar-thumb{width:5px;background-color:#ececec}.comments[data-v-2728fcde]{display:flex;flex-direction:column;width:100%}.submit[data-v-2728fcde]{margin-top:20px}@media (max-height:430px){.popup[data-v-2728fcde]{height:50vh;padding-top:50vh}}@media (max-width:600px){.error[data-v-2728fcde]{color:red;font-size:1rem;margin:10px 22px}.popup[data-v-2728fcde]{position:fixed;z-index:999;left:0;top:0;display:block;overflow-x:hidden;transform:translate(0);width:100%;height:100vh;padding-top:0;background-color:#fff}.content[data-v-2728fcde]{width:100vw;height:100vh;background:#fff}.content__close[data-v-2728fcde]{position:absolute;top:0;right:0;color:#ccc}.submit__info[data-v-2728fcde]{margin:10px 22px;width:calc(100% - 44px);max-width:100%}.submit__info--btn[data-v-2728fcde]{background:#4997d0;cursor:pointer}.content__wrap[data-v-2728fcde]{flex-direction:row;margin:0 auto;width:100%}.content__img[data-v-2728fcde]{height:auto;max-width:100%}form[data-v-2728fcde]{margin:1px}.container-comments[data-v-2728fcde]{order:0;width:100%;max-height:50vh;margin:22px 0 0 22px;padding:0 17px 0 0;height:auto}.submit[data-v-2728fcde]{order:1;margin-top:10px}}",""]),t.exports=o},237:function(t,e,n){var content=n(241);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(116).default)("1b7833da",content,!0,{sourceMap:!1})},238:function(t,e,n){var content=n(243);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(116).default)("53f8fbfc",content,!0,{sourceMap:!1})},239:function(t,e,n){"use strict";n.r(e);var o=n(6),r=(n(30),n(62),n(41),{props:["imgId"],data:function(){return{image:[],text:null,name:null,loading:"Отправить комментарий",errorMessage:null}},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("https://boiling-refuge-66454.herokuapp.com/images/".concat(t.imgId));case 2:t.image=e.sent;case 3:case"end":return e.stop()}}),e)})))()},methods:{closePopup:function(){this.$emit("closePopup")},addReview:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.loading="Отправляется...",n.next=3,e.$axios.$post("https://boiling-refuge-66454.herokuapp.com/images/".concat(e.imgId,"/comments"),{comment:t.text,name:t.name}).then((function(n){e.loading="Отправить комментарий",e.image.comments.push(t)})).catch((function(t){setTimeout((function(){return e.errorMessage=null}),3e3),e.loading="Отправить комментарий";var n=t.response.data.errors;e.errorMessage=n?n.name||n.comment:"Ошибка: ".concat(n)}));case 3:case"end":return n.stop()}}),n)})))()},onSubmit:function(){var t={name:this.name,text:this.text,id:Date.parse(new Date),date:Date.parse(new Date)};this.addReview(t),this.name=null,this.text=null}}}),c=(n(235),n(42)),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",{attrs:{name:"fade",appear:""}},[o("div",{staticClass:"popup"},[o("div",{staticClass:"content"},[o("span",{staticClass:"content__close",on:{click:t.closePopup}},[t._v("×")]),t._v(" "),o("div",{staticClass:"content__wrap"},[o("div",{staticClass:"content__img"},[t.image.url?o("img",{staticClass:"content__img",attrs:{src:t.image.url,alt:"Тут была картинка, потерялась",title:"Картинка"}}):o("div",{staticClass:"preload"},[o("img",{staticClass:"preload__img",attrs:{src:n(232)}})])]),t._v(" "),o("form",{staticClass:"submit",on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[t.errorMessage?o("div",{staticClass:"error"},[t._v("\n            "+t._s(t.errorMessage)+"\n          ")]):t._e(),o("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"submit__info",attrs:{required:"",type:"text",placeholder:"Ваше имя"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"submit__info",attrs:{type:"text",placeholder:"Ваш коментарий"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),t._v(" "),o("input",{staticClass:"submit__info submit__info--btn",attrs:{type:"submit"},domProps:{value:t.loading}})]),t._v(" "),o("div",{staticClass:"container-comments"},[t._l(t.image.comments,(function(e){return o("div",{key:e.id,staticClass:"comments"},[e.date<(new Date).setHours(0,0,0,0)?o("span",{staticClass:"comments__date"},[t._v("\n              "+t._s(e.name)+"\n              "+t._s(new Date(e.date).toLocaleDateString())+"\n            ")]):o("span",{staticClass:"comments__date"},[t._v("\n              "+t._s(e.name)+"\n              "+t._s(new Date(e.date).toLocaleTimeString()))]),t._v(" "),o("span",{staticClass:"comments__text",attrs:{title:e.text}},[t._v("\n              "+t._s(e.text))])])})),t._v(" "),0==t.image.comments?o("span",{staticClass:"comments__text"},[t._v("\n            Коментарии отсутствуют")]):t._e()],2)])])])])}),[],!1,null,"2728fcde",null);e.default=component.exports},240:function(t,e,n){"use strict";n(237)},241:function(t,e,n){var o=n(115)(!1);o.push([t.i,"body{font-family:Roboto}body,h1{margin:0}h1{padding:0}",""]),t.exports=o},242:function(t,e,n){"use strict";n(238)},243:function(t,e,n){var o=n(115)(!1);o.push([t.i,".preload[data-v-35778f28]{text-align:center;width:230px}.preload__img[data-v-35778f28]{height:115px}h1[data-v-35778f28]{display:flex;justify-content:center;text-transform:uppercase;padding:15px 0 0;margin:0}.container[data-v-35778f28]{max-width:768px;height:100vh;margin:0 auto}.content[data-v-35778f28]{display:flex;justify-content:center;flex-wrap:wrap;padding:0}.content__item-img[data-v-35778f28]{transform:scale(1);width:100%;border-radius:3px;max-width:230px}.content__item[data-v-35778f28]:hover{box-shadow:0 5px 5px silver;border-radius:3px;cursor:pointer;transform:scale(1.05);transition-duration:.2s}.content__item[data-v-35778f28]{display:flex;list-style-type:none;margin:15px 10px;transition-duration:.1s}@media (max-width:500px){.content__item-img[data-v-35778f28]{max-width:300px}.content__item[data-v-35778f28]{margin:15px 20px}}@media (max-width:767px){.content__item-img[data-v-35778f28]{max-width:300px}.content__item[data-v-35778f28]{margin:15px 20px}}",""]),t.exports=o},244:function(t,e,n){"use strict";n.r(e);var o=n(6),r=(n(41),n(231),{fetch:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(n=t.store).getters["images/images"].length){e.next=4;break}return e.next=4,n.dispatch("images/fetch");case 4:case"end":return e.stop()}}),e)})))()},data:function(){return{pageTitle:"Test APP",showModal:!1,imgId:null}},computed:{images:function(){return this.$store.getters["images/images"]}},methods:{showModalInfo:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.imgId=t,e.showModal=!0,document.documentElement.style.overflow="hidden";case 3:case"end":return n.stop()}}),n)})))()},closePopup:function(){this.showModal=!1,document.documentElement.style.overflow="auto"}}}),c=(n(240),n(242),n(42)),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"container"},[o("h1",[t._v(t._s(t.pageTitle))]),t._v(" "),o("ul",{staticClass:"content"},t._l(t.images,(function(img){return o("li",{key:img.id,staticClass:"content__item"},[img.url?o("img",{staticClass:"content__item-img",attrs:{id:img.id,src:img.url,alt:"Картинка потерялась",title:"Картинка"},on:{click:function(e){return e.preventDefault(),t.showModalInfo(img.id)}}}):o("div",{staticClass:"preload"},[o("img",{staticClass:"preload__img",attrs:{src:n(232)}})])])})),0),t._v(" "),t.showModal?o("Popup",{attrs:{imgId:t.imgId},on:{closePopup:t.closePopup}}):t._e(),t._v(" "),o("Footer")],1)}),[],!1,null,"35778f28",null);e.default=component.exports;installComponents(component,{Popup:n(239).default,Footer:n(231).default})}}]);